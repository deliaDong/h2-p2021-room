// Everything related to roomApp
div.roomApp
  position fixed
  top 0
  left 0
  width 100vw
  height 100vh
  background #000000
  cursor crosshair !important

  // Do not apply transition when page isn't loaded
  &.preload *:not(.noPreload)
    transition none !important

  // General clickable class for roomApp
  .clickable
    padding 20px
    opacity .7
    transition opacity .5s ease, transform .5s ease
    will-change transform, opacity

    &:hover
      opacity 1
      transform scale(1.2, 1.2)
      transition opacity .3s ease, transform .3s ease

  a
    opacity .8
    text-decoration none
    transition opacity .5s ease
    will-change opacity
    color color-red-lighter

    &:hover
      opacity 1
      transition opacity .3s ease

  // Output webgl canvas
  canvas
    width 100%
    height 100%
    position absolute
    top 0
    left 0

  // HUD container + black screen
  .HUDContainer
    width 100%
    height 100%
    position absolute
    top 0
    left 0
    z-index 10
    display flex
    align-items center
    justify-content center
    flex-flow column nowrap
    user-select none
    -moz-user-select none
    -webkit-user-select none
    -ms-user-select none
    pointer-events none
    opacity 0
    transition opacity .5s ease .5s
    will-change opacity

    &.active
      opacity 1
      transition opacity .5s ease

    // Container background variation
    .bg
      width 100vw
      height 100vh
      position absolute
      top 0
      left 0
      z-index -10
      background radial-gradient(#191919, #000000)
      opacity .6
      transition opacity .5s ease 1s
      will-change opacity

    &.dark .bg
      opacity .8
      transition opacity .5s ease

    &.darker .bg
      opacity 1
      transition opacity .5s ease

  // Screen holder
  .wrapper
    width 600px
    max-width 90vw
    position relative

  // Each screen
  .screen
    width 100%
    position absolute
    top -20vh
    left 0
    text-align center
    opacity 0
    transition opacity .5s ease .5s
    will-change opacity
    line-height font-biggest

    // Not active case
    h1, h2
      font-size font-giant
      text-align center
      margin-bottom 60px
      opacity 0
      transition opacity .5s ease .5s
      will-change opacity

    h2
      font-size font-bigger

    .desc
      margin-bottom 30px
      line-height font-bigger

    // Active case
    &>div, .late
      opacity 0
      transition opacity .5s ease
      will-change opacity

    &.active
      opacity 1
      transition opacity .5s ease

      h1, h2
        opacity 1
        transition opacity .5s ease 1s

      &>div
        opacity 1
        transition opacity .5s ease 1.5s

      .late
        opacity 1
        transition opacity .5s ease 2s

    // For faster element
    &.fast
      transition opacity .5s ease

      h1, h2
        opacity 1
        transition opacity .5s ease .5s

      &>div
        opacity 1
        transition opacity .5s ease 1s

      .late
        opacity 1
        transition opacity .5s ease 1.5s

  // Start screen
  .start
    .startButton
      will-change opacity
      font-size font-bigger


    .more
      width 100%
      position fixed
      bottom 20px
      left 0

    .howToPlay
      font-size font-small
      opacity .8

      svg
        display inline-block
        fill color-white
        stroke color-white
        height 50px
        width 50px
        vertical-align middle

    .credit
      font-size font-smaller

      span
        opacity .7

    &.active a
      pointer-events auto
      user-select text
      -moz-user-select text
      -webkit-user-select text
      -ms-user-select text

    &.active.loading .startButton
      animation breathing 1s ease infinite

      &:hover
        transform none

  // Choice screen
  .choice
    div
      display flex
      flex-flow row nowrap
      align-items center
      justify-content space-around

  // Bubble screen
  .bubble
    padding-top 10vh
    font-size font-big

  // Intro screen (no additional css)
  //.intro

  // End screen
  .end.active
    .desc
      user-select text
      -moz-user-select text
      -webkit-user-select text
      -ms-user-select text

  // If selectable
  .select
    pointer-events auto

  // Options css
  .options
    position absolute
    bottom 20px
    right 70px
    height 30px
    z-index 20
    display flex
    opacity 0
    transition opacity .5s ease
    will-change opacity

    &:hover, &.active
      transition opacity .5s ease 1s
      opacity 1

    div
      margin 0 10px

  // Toggle shaders button
  .fps
    opacity .5
    transition opacity .5s ease
    will-change opacity

    svg
      width 30px
      height 30px
      fill color-white
      stroke color-white

    &:hover, &.active
      opacity 1

    &.active:hover
      opacity .5

  // Toggle sounds button
  .mute
    position relative
    width 30px
    height 30px

    .wave
      background color-white
      width 5px
      height 30px
      position absolute
      bottom 0
      transform-origin 50% 100%
      opacity .5
      transition transform .5s ease, opacity .5s ease
      will-change transform, opacity

    // Waves animations
    &.muted:hover .wave1, .wave1
      left 0px
      animation pulse 1s ease infinite
    &.muted:hover .wave2, .wave2
      left 6px
      animation pulse 1.2s ease infinite .3s
    &.muted:hover .wave3, .wave3
      left 12px
      animation pulse 1.3s ease infinite .2s
    &.muted:hover .wave4, .wave4
      left 18px
      animation pulse 0.9s ease infinite .1s
    &.muted:hover .wave5, .wave5
      left 24px
      animation pulse 1.4s ease infinite .4s

    &:hover .wave
      animation mute .5s ease both
      opacity 1

    &.muted .wave
      animation mute .5s ease both

    &.muted:hover .wave
      opacity 1

// Animations

// Loading breathing
@keyframes breathing {
  50% { opacity: 0.3; }
}

// Wave pulsing
@keyframes pulse {
  0%   { transform: scaleY(0.1); }
  80% { transform: scaleY(1); }
  100% { transform: scaleY(0.1); }
}

// Wave mute
@keyframes mute {
  100% { transform: scaleY(0.1); }
}
